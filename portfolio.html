<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AR-ovation</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-image-aframe.prod.js"></script>
    <script src="https://raw.githubusercontent.com/juliangarnier/anime/master/lib/anime.min.js"></script>
    <script src="https://raw.githubusercontent.com/juliangarnier/anime/master/lib/anime.js"></script>

    <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>

  </head>

<script>
  AFRAME.registerComponent('cur', {
  init: function () {
    let eventEnabled= true;
    const box = document.querySelectorAll(`[id^="green-box"]`);
    const imageCard = document.getElementById('image')
    imageCard.addEventListener('click', function(){
      
          if (eventEnabled){
          
          eventEnabled=false
          for (let i=0;i<3;i++){
            const boxe1= document.getElementById(`green-box`+(i+1))
            boxe1.setAttribute('animation',{'property':'position','to': {x: -1, y: 1-i, z: 0},'dur':'1000','easing':'easeInOutElastic'})
            // var entity = document.querySelector('[sound]');
            // entity.components.sound.playSound();

          }}

          else{
            
            eventEnabled=true
                box.forEach(box => {
          box.setAttribute('animation',{'property':'position','to': {x: 0, y: 0, z: 0},'dur':'1000','easing':'easeInOutElastic'});
          box.setAttribute('sound',{'src':'#river'},'on','click')
        });
        
        }})}

    

        });
</script>
  <body>
    <a-scene
      mindar-image="imageTargetSrc: ./targets-5.mind; maxTrack: 2"
      vr-mode-ui="enabled: false"
      device-orientation-permission-ui="enabled: true"
      webxr="optionalFeatures:  hit-test;" ar-hit-test="target:#myobject;"
    >
      <a-camera
        position="0 0 0"
        look-controls="enabled: false"
        cursor="fuse: false; rayOrigin: mouse;"
        raycaster="far: ${customFields.libVersion}; objects: .clickable"
      ></a-camera>
    <a-assets>
      <audio id="river" src="https://github.com/deepsingh245/Inovo-ED-AR-foreveryone/raw/master/sound/mixkit-sci-fi-interface-robot-click-901.mp3" preload="auto" crossorigin="anonymous"></audio>
      <a-asset-item src="https://raw.githubusercontent.com/deepsingh245/Inovo-ED-AR-foreveryone/master/avengers_logo2/scene.gltf" id="avenger"></a-asset-item>
    <img src="./DEEP.png" id="my-image">
  <!-- <a-asset-item id="optimerBoldFont" src="https://rawgit.com/mrdoob/three.js/dev/examples/fonts/optimer_bold.typeface.json"></a-asset-item> -->
    <!-- <a-asset-item src="../3ds/Waving Gesture.fbx" id='fbx'></a-asset-item> -->
    </a-assets>


      <a-entity mindar-image-target="targetIndex: 0">
         <a-image src="#my-image" id="image" position="0 0 0" scale="1.1 1.75" class="clickable" sound="src: #river; on: click" ></a-image>
         <a-triangle position="0 -1.5 0" scale="0.25 0.25" rotation="0 0 0" animation="property: position; to: 0 -1.150; dur: 1000; easing: 	easeInOutQuad; loop: true"></a-triangle>
        <a-gltf-model src="#avenger" position="0 1.2 0" scale="0.05 0.05 0.05" rotate="0 0 1" animation="property: rotation; to: 0 360 0; dur: 4000; loop:true; easing: linear"></a-gltf-model>
       
        <a-box color="green" cur scale="0.5 0.5 0.5" id="green-box1" position="0 0 0"
        ></a-box>
        <a-box color="green" cur scale="0.5 0.5 0.5" id="green-box2" position="0 0 0"
        ></a-box>
        <a-box color="green" cur scale="0.5 0.5 0.5" id="green-box3" position="0 0 0"
          ></a-box>


        </a-entity>

    </a-scene>
   
  
  </body>
</html>
